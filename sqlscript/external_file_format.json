{
	"name": "external_file_format",
	"properties": {
		"folder": {
			"name": "nyc-green-taxi/ldw"
		},
		"content": {
			"query": "-- Create an external file format for DELIMITED (CSV/TSV) files.\nIF NOT EXISTS (SELECT * FROM sys.external_file_formats where name='csv_file_format')\nCREATE EXTERNAL FILE FORMAT csv_file_format\nWITH (\n        FORMAT_TYPE = DELIMITEDTEXT,\n        FORMAT_OPTIONS (\n            FIELD_TERMINATOR = ',',\n            STRING_DELIMITER ='\"',\n            FIRST_ROW = 2, -- Applies to: Azure Synapse Analytics and SQL Server 2022 and later versions\n            USE_TYPE_DEFAULT = FALSE,\n            ENCODING = 'UTF8' ,\n            PARSER_VERSION ='2.0')\n            );\n\nIF NOT EXISTS (SELECT * FROM sys.external_file_formats where name='csv_file_format_pv1')\nCREATE EXTERNAL FILE FORMAT csv_file_format_pv1\nWITH (\n        FORMAT_TYPE = DELIMITEDTEXT,\n        FORMAT_OPTIONS (\n            FIELD_TERMINATOR = ',',\n            STRING_DELIMITER ='\"',\n            FIRST_ROW = 2, -- Applies to: Azure Synapse Analytics and SQL Server 2022 and later versions\n            USE_TYPE_DEFAULT = FALSE,\n            ENCODING = 'UTF8' ,\n            PARSER_VERSION ='1.0')\n            );\n\n\nIF NOT EXISTS (SELECT * FROM sys.external_file_formats where name='tsv_file_format_pv1')\nCREATE EXTERNAL FILE FORMAT tsv_file_format_pv1\nWITH (\n        FORMAT_TYPE = DELIMITEDTEXT,\n        FORMAT_OPTIONS (\n            FIELD_TERMINATOR = '\\t',\n            STRING_DELIMITER ='\"',\n            FIRST_ROW = 2, -- Applies to: Azure Synapse Analytics and SQL Server 2022 and later versions\n            USE_TYPE_DEFAULT = FALSE,\n            ENCODING = 'UTF8' ,\n            PARSER_VERSION ='1.0')\n            );\n\nIF NOT EXISTS (SELECT * FROM sys.external_file_formats where name='parquet_file_format')\n--Create an external file format for PARQUET files.\nCREATE EXTERNAL FILE FORMAT parquet_file_format\nWITH (\n         FORMAT_TYPE = PARQUET,\n         DATA_COMPRESSION ='org.apache.hadoop.io.compress.SnappyCodec' \n    );",
			"metadata": {
				"language": "sql"
			},
			"currentConnection": {
				"databaseName": "nyc_green_taxi_ldw",
				"poolName": "Built-in"
			},
			"resultLimit": 5000
		},
		"type": "SqlQuery"
	}
}